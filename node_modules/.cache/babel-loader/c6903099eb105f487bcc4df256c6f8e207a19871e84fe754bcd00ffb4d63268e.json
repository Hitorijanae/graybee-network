{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\j_b_l\\\\graybee-network\\\\src\\\\components\\\\RegistrationUploaderComponent.js\";\nimport React from 'react';\nimport $ from 'jquery';\nimport '../css/registration.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass RegistrationUploaderComponent extends React.Component {\n  previewPicture(input) {\n    if (input.target.files) {\n      const canvas = document.getElementById(\"pictureCanvas\"); // Get the canvas\n\n      const ctx = canvas.getContext(\"2d\");\n      const img = input.target.files[0];\n      const reader = new FileReader(); // Create a file reader\n\n      reader.readAsDataURL(img);\n      reader.onloadend = function (e) {\n        // When the reader is done\n\n        const image = new Image();\n        image.src = e.target.result;\n        image.onload = function () {\n          console.log(\"height: \" + image.height + \"width: \" + image.width);\n          ctx.width = image.width * 0.5; // Set the canvas to half the size of the image\n\n          ctx.height = image.height * 0.5; // Set the canvas to half the size of the image\n\n          ctx.drawImage(image, 0, 0, 0.25 * $(window).width, 0.25 * $(window).width); // Draw the image to the canvas\n        };\n      };\n    }\n  }\n\n  uploadProfilePic(e) {\n    e.preventDefault();\n\n    // const canvas = document.getElementById( \"pictureCanvas\" );\n\n    const formDatum = new FormData(document.getElementById(\"pictureForm\"));\n    formDatum.append(\"opcode\", 2);\n\n    /*fetch( \"http://localhost/php/login.php\", {\r\n        method : \"POSt\",\r\n        body : formDatum\r\n    }).then( function( response ) {\r\n        if( response.ok ) {\r\n            console.log( \"Picture uploaded!\" );\r\n            //window.location.href=\"tags.htm\";\r\n        }\r\n        else{\r\n            console.log(response);\r\n        }\r\n    });*/\n    axios.post(\"http://localhost/php/login.php\", formDatum, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(response => {\n      console.log(response);\n      //window.location.href=\"tags.htm\";\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"registration_pane\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"pictureForm\",\n        onSubmit: this.uploadProfilePic,\n        children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n          id: \"pictureCanvas\",\n          width: \"500px\",\n          height: \"500px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: this.previewPicture,\n          type: \"file\",\n          accept: \"image/*\",\n          id: \"picPicker\",\n          name: \"picPicker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          placeholder: \"Upload!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default RegistrationUploaderComponent;","map":{"version":3,"names":["React","$","axios","RegistrationUploaderComponent","Component","previewPicture","input","target","files","canvas","document","getElementById","ctx","getContext","img","reader","FileReader","readAsDataURL","onloadend","e","image","Image","src","result","onload","console","log","height","width","drawImage","window","uploadProfilePic","preventDefault","formDatum","FormData","append","post","headers","then","response","render"],"sources":["C:/Users/j_b_l/graybee-network/src/components/RegistrationUploaderComponent.js"],"sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\nimport '../css/registration.css'\r\nimport axios from 'axios';\r\n\r\nclass RegistrationUploaderComponent extends React.Component {\r\n    previewPicture( input ) {\r\n\r\n        if ( input.target.files ) {\r\n      \r\n          const canvas = document.getElementById( \"pictureCanvas\" ); // Get the canvas\r\n      \r\n          const ctx = canvas.getContext( \"2d\" );\r\n      \r\n          const img = input.target.files[ 0 ];\r\n      \r\n          const reader = new FileReader(); // Create a file reader\r\n      \r\n          reader.readAsDataURL( img );\r\n      \r\n          reader.onloadend = function( e ) { // When the reader is done\r\n      \r\n            const image = new Image();\r\n      \r\n            image.src = e.target.result;\r\n      \r\n            image.onload = function() {\r\n      \r\n              console.log( \"height: \" + image.height + \"width: \" + image.width );\r\n      \r\n              ctx.width = image.width * 0.5; // Set the canvas to half the size of the image\r\n      \r\n              ctx.height = image.height * 0.5; // Set the canvas to half the size of the image\r\n      \r\n              ctx.drawImage( image, 0, 0, 0.25*$(window).width, 0.25*$(window).width ); // Draw the image to the canvas\r\n      \r\n            };\r\n      \r\n          };\r\n      \r\n        }\r\n      \r\n      }\r\n    uploadProfilePic(e) {\r\n        e.preventDefault();\r\n\r\n        // const canvas = document.getElementById( \"pictureCanvas\" );\r\n      \r\n        const formDatum = new FormData( document.getElementById( \"pictureForm\" ) );\r\n      \r\n        formDatum.append( \"opcode\", 2 );\r\n\r\n        /*fetch( \"http://localhost/php/login.php\", {\r\n            method : \"POSt\",\r\n            body : formDatum\r\n        }).then( function( response ) {\r\n            if( response.ok ) {\r\n                console.log( \"Picture uploaded!\" );\r\n                //window.location.href=\"tags.htm\";\r\n            }\r\n            else{\r\n                console.log(response);\r\n            }\r\n        });*/\r\n        axios\r\n        .post(\"http://localhost/php/login.php\", formDatum, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            }\r\n        }).then(\r\n            response => {\r\n                console.log(response);\r\n                //window.location.href=\"tags.htm\";\r\n            }\r\n        )\r\n    }\r\n      \r\n\r\n    render(){\r\n        return(\r\n            <div id=\"registration_pane\">\r\n                <form id=\"pictureForm\" onSubmit={this.uploadProfilePic}>\r\n                    <canvas id=\"pictureCanvas\" width=\"500px\" height=\"500px\"></canvas>\r\n                    <input onChange={this.previewPicture} type=\"file\" accept=\"image/*\" id=\"picPicker\" name=\"picPicker\" />\r\n                    <input type=\"submit\" placeholder=\"Upload!\"/>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default RegistrationUploaderComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}